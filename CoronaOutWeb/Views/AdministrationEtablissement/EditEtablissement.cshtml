@model CoronaOutWeb.ViewModel.EditEtablissementViewModel
@{
    ViewData["Title"] = "Modifier un établissement";
}

<h1>Modifier un établissement</h1>


@using (Html.BeginForm(FormMethod.Post, new { @enctype = "multipart/form-data", @id = "form" }))
{
    @Html.HiddenFor(model => model.Etab.Logo, new { @id = "logo" })
    @Html.HiddenFor(model => model.Etab.Id, new { @id = "id" })
    @Html.HiddenFor(model => model.Etab.NomUrl)

    @Html.ValidationSummary(false, "", new { @class = "text-danger", @id = "validation-summary" })


    <div class="col-md-12 row">
        <!--Nom-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.Nom, new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.Nom, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.Nom, "", new { @class = "text-danger" })
        </div>

        <!--Prenom-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.Type, "Type d'établissement", new { @class = "control-label" })
            @Html.DropDownListFor(model => model.Etab.Type, new SelectList(Model.lTypeEtablissement), "Sélectionnez le type d'établissement", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.Type, "", new { @class = "text-danger" })
        </div>
    </div>


    <div class="col-md-12 row">
        <!--Tva-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.NumeroTva, "Numéro de TVA", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.NumeroTva, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.NumeroTva, "", new { @class = "text-danger" })
        </div>
        <!--Tel-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.NumeroTelephone, "Numéro de Téléphone", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.NumeroTelephone, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.NumeroTelephone, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12 row">
        <!--Rue-->
        <div class="form-group col-md-8">
            @Html.LabelFor(model => model.Etab.Rue, new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.Rue, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.Rue, "", new { @class = "text-danger" })
        </div>

        <!--Numéro-->
        <div class="form-group col-md-4">
            @Html.LabelFor(model => model.Etab.NumeroBoite, "Numéro/Boîte", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.NumeroBoite, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.NumeroBoite, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12 row">
        <!--CodePostal-->
        <div class="form-group col-md-2">
            @Html.LabelFor(model => model.Etab.CodePostal, "Code Postal", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.CodePostal, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.CodePostal, "", new { @class = "text-danger" })
        </div>

        <!--Ville-->
        <div class="form-group col-md-5">
            @Html.LabelFor(model => model.Etab.Ville, new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.Ville, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.Ville, "", new { @class = "text-danger" })
        </div>

        <!--Pays-->
        <div class="form-group col-md-5">
            @Html.LabelFor(model => model.Etab.Pays, new { @class = "control-label" })
            @Html.DropDownListFor(model => model.Etab.Pays, new SelectList(Model.lPays), "Sélectionnez votre pays", new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.Pays, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12 row">
        <!--Email Pro-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseEmailPro, "Adresse mail professionnelle (obligatoire)", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseEmailPro, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseEmailPro, "", new { @class = "text-danger" })
        </div>

        <!--Email Etabl-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseEmailEtablissement, "Adresse mail de l'établissement (optionnelle)", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseEmailEtablissement, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseEmailEtablissement, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12 row">
        <!--Web-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseSiteWeb, "Site Web", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseSiteWeb, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseSiteWeb, "", new { @class = "text-danger" })
        </div>

        <!--Insta-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseInstagram, "Instagram", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseInstagram, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseInstagram, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12 row">
        <!--Facebook-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseFacebook, "Facebook", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseFacebook, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseFacebook, "", new { @class = "text-danger" })
        </div>

        <!--Linkedin-->
        <div class="form-group col-md-6">
            @Html.LabelFor(model => model.Etab.AdresseLinkedin, "Linkedin", new { @class = "control-label" })
            @Html.TextBoxFor(model => model.Etab.AdresseLinkedin, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.AdresseLinkedin, "", new { @class = "text-danger" })
        </div>
    </div>

    <br />

    <div class="col-md-12">
        <!--Zone de texte-->
        <div class="form-group">
            @Html.LabelFor(model => model.Etab.ZoneTexteLibre, "Zone de texte libre", new { @class = "control-label", @Wrap = "hard", @rows = "20" })
            @Html.TextAreaFor(model => model.Etab.ZoneTexteLibre, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Etab.ZoneTexteLibre, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="col-md-12">
        <button style="width:auto" type="submit" name="button" value="create" class="btn btn-primary">Mettre à jour l'établissement</button>
        @Html.ActionLink("Mettre à jour les horaires", "EditHoraires", "AdministrationEtablissement", new { etablissementId = Model.Etab.Id }, new { @class = "btn btn-info" })
        @Html.ActionLink("Mettre à jour les images", "EditImages", "AdministrationEtablissement", new { etablissementId = Model.Etab.Id }, new { @class = "btn btn-info" })
        @Html.ActionLink("Retour", "ListeEtablissementOwned", "AdministrationEtablissement", "", new { @class = "btn btn-danger" })
    </div>

}



@section Scripts{
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
    <script src="~/js/toastr.js"></script>
    <script src="~/js/RemplissageFormulaire.js"></script>
}

